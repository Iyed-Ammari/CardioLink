{% extends 'dashboard/base_dashboard.html.twig' %}

{% block body %}

<h2>ğŸ“‹ Dossier de {{ dossier.user.nom }} {{ dossier.user.prenom }}</h2>

<a href="{{ path('admin_dossier_index') }}">â† Retour</a>

{% set risque = dossier.risqueCardiaque %}
<div style="padding:15px; border-radius:12px; margin:20px 0;
    background: {{ risque == 'CRITIQUE' ? '#fee2e2' : (risque == 'Ã‰LEVÃ‰' ? '#ffedd5' : (risque == 'MODÃ‰RÃ‰' ? '#fef9c3' : '#dcfce7')) }};">
    <strong>âš•ï¸ Risque Cardiaque :</strong>
    <span style="font-weight:800; color: {{ risque == 'CRITIQUE' ? 'red' : (risque == 'Ã‰LEVÃ‰' ? 'orange' : (risque == 'MODÃ‰RÃ‰' ? '#ca8a04' : 'green')) }};">
        {{ risque }}
    </span>
    {% if dossier.IMC %}
        &nbsp;&nbsp;|&nbsp;&nbsp; <strong>IMC :</strong> {{ dossier.IMC }}
    {% endif %}
</div>

<table border="1">
    <tr><th>Groupe Sanguin</th><td>{{ dossier.groupeSanguin }}</td></tr>
    <tr><th>AntÃ©cÃ©dents</th><td>{{ dossier.antecedents ?? '-' }}</td></tr>
    <tr><th>Allergies</th><td>{{ dossier.allergies ?? '-' }}</td></tr>
    <tr><th>Poids</th><td>{{ dossier.poids ? dossier.poids ~ ' kg' : '-' }}</td></tr>
    <tr><th>Taille</th><td>{{ dossier.taille ? dossier.taille ~ ' cm' : '-' }}</td></tr>
    <tr><th>Tension</th><td>{{ dossier.tensionSystolique ? dossier.tensionSystolique ~ '/' ~ dossier.tensionDiastolique ~ ' mmHg' : '-' }}</td></tr>
    <tr><th>FrÃ©quence Cardiaque</th><td>{{ dossier.frequenceCardiaque ? dossier.frequenceCardiaque ~ ' bpm' : '-' }}</td></tr>
</table>

<br>

<a href="{{ path('admin_dossier_edit', {id: dossier.id}) }}"
   style="background:linear-gradient(90deg,#F82239,#2F60F5); color:#fff; padding:10px 20px; border-radius:12px; text-decoration:none; font-weight:800;">
    âœï¸ Modifier
</a>

&nbsp;&nbsp;

<a href="{{ path('admin_dossier_evolution', {id: dossier.id}) }}"
   style="background:linear-gradient(90deg,#F82239,#2F60F5); color:#fff; padding:12px 24px; border-radius:12px; text-decoration:none; font-weight:800;">
    ğŸ“ˆ Voir Ã©volution sur 6 mois
</a>

{% endblock %}